user  nginx;
worker_processes  auto;

error_log /dev/stdout info;
pid        /var/run/nginx.pid;

events {
    worker_connections  1024;
}

http {
    include       /etc/nginx/mime.types;
    default_type  application/octet-stream;

    log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '
                      '$status $body_bytes_sent "$http_referer" '
                      '"$http_user_agent" "$http_x_forwarded_for"';
    access_log /dev/stdout;

    sendfile        on;
    tcp_nopush      on;

    keepalive_timeout  65;

    # ################################################
    # # Default 
    # # What happens when you hit this server and there
    # # isn't a redirect set up
    # ################################################

    server {
        listen 80;
        server_name _;
        location / {
            root   /usr/share/nginx/wwwroot;
            index  index.html;
        }
    }

    # ################################################
    # # Non-schools
    # ################################################

    # Blackboard
    server {
        listen 80;
        server_name blackboard.lskysd.ca moodle.lskysd.ca distance.lskysd.ca distanceed.lskysd.ca;
        return 303 https://sask.blackboardclassroom.com;
    }

    # Confluence
    server {
        listen 80;
        server_name confluence.lskysd.ca help.lskysd.ca;
        return 303 https://support.lskysd.ca;
    }

    # HomeLogic
    server {
        listen 80;
        server_name homelogic.lskysd.ca;
        return 303 https://sis.lskysd.ca/homelogic/;
    }

    # lsky.ca
    server {
        listen 80;
        server_name lsky.ca;
        return 303 www.lskysd.ca;
    }

    # roadmap
    server {
        listen 80;
        server_name roadmap.lskysd.ca;
        return 303 https://support.lskysd.ca/display/KB/Living+Sky+IT+Roadmap;
    }
    
    # ################################################
    # # School websites
    # ################################################


    # BCS
    server {
        listen 80;
        server_name bcs.lskysd.ca www.bcs.lskysd.ca;
        return 303 https://www.lskysd.ca/school/bcs/;
    } 
    
    # Bready
    server {
        listen 80;
        server_name bready.lskysd.ca www.bready.lskysd.ca;
        return 303 https://www.lskysd.ca/school/bready/;
    } 
    
    # Cando
    server {
        listen 80;
        server_name cando.lskysd.ca www.cando.lskysd.ca;
        return 303 https://www.lskysd.ca/school/cando/;
    } 
    
    # CKES
    server {
        listen 80;
        server_name ckes.lskysd.ca www.ckes.lskysd.ca;
        return 303 https://www.lskysd.ca/school/ckes/;
    } 
    
    # CKHS
    server {
        listen 80;
        server_name ckhs.lskysd.ca www.ckhs.lskysd.ca;
        return 303 https://www.lskysd.ca/school/ckhs/;
    } 
    
    # Connaught
    server {
        listen 80;
        server_name connaught.lskysd.ca www.connaught.lskysd.ca;
        return 303 https://www.lskysd.ca/school/connaught/;
    } 
    
    # Hafford
    server {
        listen 80;
        server_name hafford.lskysd.ca www.hafford.lskysd.ca;
        return 303 https://www.lskysd.ca/school/hafford/;
    } 
    
    # HCES
    server {
        listen 80;
        server_name hartleyclark.lskysd.ca www.hartleyclark.lskysd.ca;
        return 303 https://www.lskysd.ca/school/hartleyclark/;
    } 
    
    # Heritage
    server {
        listen 80;
        server_name heritagechristianschool.lskysd.ca www.heritagechristianschool.lskysd.ca;
        return 303 https://www.lskysd.ca/school/heritagechristianschool;
    } 
    
    # Kerrobert
    server {
        listen 80;
        server_name kerrobert.lskysd.ca www.kerrobert.lskysd.ca;
        return 303 https://www.lskysd.ca/school/kerrobert/;
    } 
    
    # Lawrence
    server {
        listen 80;
        server_name lawrence.lskysd.ca www.lawrence.lskysd.ca;
        return 303 https://www.lskysd.ca/school/lawrence/;
    } 
    
    # Leoville
    server {
        listen 80;
        server_name leoville.lskysd.ca www.leoville.lskysd.ca;
        return 303 https://www.lskysd.ca/school/leoville/;
    } 
    
    # Luseland
    server {
        listen 80;
        server_name luseland.lskysd.ca www.luseland.lskysd.ca;
        return 303 https://www.lskysd.ca/school/luseland/;
    } 
    
    # Macklin
    server {
        listen 80;
        server_name macklin.lskysd.ca www.macklin.lskysd.ca;
        return 303 https://www.lskysd.ca/school/macklin/;
    } 
    
    # Manacowin
    server {
        listen 80;
        server_name manacowin.lskysd.ca www.manacowin.lskysd.ca;
        return 303 http://www.lskysd.ca/;
    } 
    
    # Maymont
    server {
        listen 80;
        server_name maymont.lskysd.ca www.maymont.lskysd.ca;
        return 303 https://www.lskysd.ca/school/maymont/;
    } 
    
    # McKitrick
    server {
        listen 80;
        server_name mckitrick.lskysd.ca www.mckitrick.lskysd.ca;
        return 303 https://www.lskysd.ca/school/mckitrick/;
    } 
    
    # McLurg
    server {
        listen 80;
        server_name mclurg.lskysd.ca www.mclurg.lskysd.ca;
        return 303 https://www.lskysd.ca/school/mclurg/;
    } 
    
    # Medstead
    server {
        listen 80;
        server_name medstead.lskysd.ca www.medstead.lskysd.ca;
        return 303 https://www.lskysd.ca/school/medstead/;
    } 
    
    # NBCHS
    server {
        listen 80;
        server_name nbchs.lskysd.ca www.nbchs.lskysd.ca;
        return 303 https://www.lskysd.ca/school/nbchs/;
    } 
    
    # NCES
    server {
        listen 80;
        server_name normancarter.lskysd.ca www.normancarter.lskysd.ca nces.lskysd.ca www.nces.lskysd.ca;
        return 303 https://www.lskysd.ca/school/normancarter/;
    } 
    
    # Spiritwood
    server {
        listen 80;
        server_name spiritwoodhs.lskysd.ca www.spiritwoodhs.lskysd.ca;
        return 303 http://www.lskysd.ca/school/spiritwoodhs/;
    } 
    
    # StVital
    server {
        listen 80;
        server_name stvital.lskysd.ca www.stvital.lskysd.ca;
        return 303 https://www.lskysd.ca/school/stvital/;
    } 
    
    # UCHS
    server {
        listen 80;
        server_name uchs.lskysd.ca www.uchs.lskysd.ca;
        return 303 https://www.lskysd.ca/school/uchs/;
    } 
    
    # UPS 
    server {
        listen 80;
        server_name ups.lskysd.ca www.ups.lskysd.ca;
        return 303 https://www.lskysd.ca/school/ups/;
    }

    

}